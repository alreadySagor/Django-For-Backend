{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
    
    {% if messages %}
        {% for m in messages %}
            <p class = "bg-success p-3 text-white">{{m}}</p>
        {% endfor %}
    {% endif %}

    <form method="post" style="width: 50%; margin: auto;" novalidate>
        <h2>Login</h2>
        {% csrf_token %}
        <!-- {{form | crispy}} -->
        
        {% if form.non_field_errors %}
            {% for err in form.non_field_errors %}
                <p class = "bg-danger text-white p-3">{{err}}</p>
            {% endfor %}
        {% endif %}

        {% for fm in form %}
            {{fm.label_tag}}
            {{fm}}
            {{fm.errors | striptags}}
        {% endfor %}
        <br/>
        <button class="btn btn-primary" type="submit">Login</button>
    </form>
{% endblock %}