{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}


    {% if messages %}
        {% for m in messages %}
            <p class = "bg-success p-3 text-white">{{m}}</p>
        {% endfor %}
    {% endif %}
    <h2>Welcome to Profile Page</h2>
    <h2>Hello {{user}}</h2>

    <p>
        <a class="btn btn-info" href="{% url 'pass_change' %}">Change Password</a>
        <a class="btn btn-warning" href="{% url 'pass_change2' %}">Change Password without OLD password</a>
    </p>

    <form method = "post" style="width: 50%; margin: auto;" novalidate>
        <h2>Edit/Change/Update Data</h2>
        {% csrf_token %}
        <!-- {{form | crispy }} -->

        {% if form.non_field_errors %}
            {% for err in form.non_field_errors %}
                <p class = "bg-danger text-white p-3">{{err}}</p>
            {% endfor %}
        {% endif %}

        {% for fm in form %}
            {{fm.label_tag}}
            {{fm}}
            {{fm.errors | striptags}}
        {% endfor %}
        <br/>
        <button class ="btn btn-warning" type="submit">Submit</button>
    </form>

{% endblock %}